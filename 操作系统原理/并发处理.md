# 并发处理
## 并发活动-进程的引入
#### 顺序执行

一个计算由若干个操作组成，而这些操作必须按照某种先后次序来执行，以保证操作的结果是正确的，则这类计算过程是程序的顺序执行过程。

- 顺序性:每个操作必须在下一个操作开始执行前结束。
- 封闭性：程序一旦开始执行，其结果不受外界因素的影响。
- 可再现性程序执行的结果与它的执行速度无关（与时间无关），只与初始条件有关。

#### 程序的并发执行

若干个程序段同时在系统中运行，这些程序段的执行在时间上是重叠的，一个程序段的执行尚未结束，另一个程序段的执行已经开始，即使这种重叠是很小的一部分，也称这几个程序断是并发执行的。用以下语句表示。

```
cobegin
	S1;S2;S3;
coend
```

#### 与时间有关的错误

程序并发执行时若共享了公共变量，则一个程序的执行会改变另一个程序的变量，因此其输出结果将受外界的影响而失去封闭性，其执行结果将与并发程序执行的相对速度有关，即给定相同的初始条件，也可能会得到不同的结果，此为与时间有关的错误。为了保证得到唯一的结果，需要实现并发程序执行时的互斥和同步。

#### 并发程序的特点

- 失去程序的封闭性
- 程序与计算不再一一对应
- 程序并发执行相互制约

## 进程概念

### 进程的定义
进程是处理机活动的一个抽象概念。是指一个具有一定独立功能的程序关于某个数据集合的一次运行活动。

进程和程序是既有联系又有区别的两个概念：
- 程序是指令的有序集合，其本身没有任何运行的含义，它是一个静态概念。而进程是程序在处理机上的一次执行过程，它是一个动态概念。程序作为一种软件资料长期保存，而进程则是有一定的生命周期，可以动态的产生和消亡。
- 进程是一个能独立运行的单位，能与其他进程并行的活动。
- 进程是竞争计算机系统有限资源的基本单位，也是进行处理机调度的基本单位。

### 进程的类型

有些进程起着资源管理和控制的作用，称为系统进程；而另一些是为用户算题任务而建立的进程称为用户进程。

- 系统进程被分配一个初始的资源集合，这些资源可为它所独占，也可以最高优先级的资格优先使用。用户进程通过系统服务请求的手段竞争系统资源。
- 用户进程不能做直接I/O操作，而系统进程可以做显示的、直接的I/O操作。
- 系统进程在管态下活动，而用户进程在用户态下活动。

### 进程的状态
#### 进程的基本状态

- 就绪状态：当进程获得了除CPU之外所有的资源，它已经准备就绪，一旦得到了CPU控制权，就可以立即运行，该进程所处的状态为就绪状态。
- 运行状态：当进程由调度/分派模块分派后，得到中央处理机控制权，它的程序正在运行，该进程所处的状态为运行状态。
- 等待状态：若一进程正在等待某一事件发生而暂时停止执行，即使给它CPU控制权，它也无法执行，则称该进程处于等待状态，又称为**阻塞状态**。

#### 进程状态变迁图

进程并非固定处于某个状态，它将随着自身的推进和外界条件的变化而发生变化。
![](http://github.com/imgaojp/note/raw/images/进程基本变迁.jpg)